# 《赛博斩杀线》游戏设计白皮书

## 1. 游戏概述
**核心概念**：一款现实主义题材的文字生存模拟游戏。玩家扮演一名在一线城市打拼的青年，在24个月（2年）的时间跨度内，通过管理金钱、健康、心理和人际关系，试图在残酷的社会规则中生存并寻求阶级跃升。

**核心冲突**：
*   **生存 vs 生活**：高昂的房租/物价与有限薪资的矛盾。
*   **道德 vs 利益**：是否为了金钱出卖良知（如诈骗、借贷、甚至犯罪）。
*   **风险 vs 收益**：保守理财只能慢速贬值，激进投资可能暴富也可能归零。

---

## 2. 核心数值系统 (Stats)

| 属性 | 代码标识 | 说明 | 临界值影响 |
| :--- | :--- | :--- | :--- |
| **现金流** | `cash` | 流动资金，生存根本。 | < 0 进入债务模式；<-20k 触发暴力催收；高利贷下利息爆炸。 |
| **稳健投资** | `safeInvest` | 定期/债券，低收益(约1.5%)。 | 资产避风港，但这笔钱跑不赢通胀。 |
| **激进投资** | `riskyInvest` | 股票/基金/币圈。 | 收益波动极大(-100% ~ +200%)，受市场环境(Bull/Bear)影响。 |
| **身体机能** | `body` | 健康值 (0-100)。 | < 20 触发病危警告；< 10 强制住院（高额扣费）。 |
| **心理 San值** | `mind` | 精神状态 (0-100)。 | < 20 触发崩溃警告；< 10 强制心理干预或甚至自杀判定。 |
| **社会道德** | `moral` | 隐形人品值 (0-100)。 | < 30 众叛亲离（借不到钱/无法获助）；极低时解锁犯罪选项。 |
| **工作绩效** | `performance`| 职场表现 (0-100)。 | 影响年终奖、裁员判定、跳槽薪资涨幅。 |

---

## 3. 游戏循环与经济系统

### 3.1 时间推进
*   游戏共 **12 个核心节点 (Node)**，每个节点代表 2 个月，总计 24 个月。
*   每经历 **3 个节点 (6个月)**，触发一次 **「阶段性财务结算」 (Summary Phase)**。

### 3.2 阶段结算逻辑
在此阶段，系统会统一计算这半年的收支：
1.  **收入**：`基础薪资 × 6` (受 `SALARY_BUMP`、`UNEMPLOYED` 等状态影响)。
2.  **支出**：
    *   **房租**：市区(4000/月) vs 远郊(2500/月) vs 房贷(5500/月)。
    *   **生活费**：随时间推进有通胀系数增长。
    *   **债务利息**：普通债务月息3%，高利贷(`DEBT_TRAP`)月息10%（半年复利极高）。
3.  **投资损益**：
    *   稳健池：稳定小幅增长。
    *   激进池：根据当前节点的 `marketTrend` (牛/熊/震荡) 和随机数计算盈亏。
4.  **资产重配**：玩家可在结算界面自由调整现金、稳健池、激进池的比例。

### 3.3 市场环境 (Market Trend)
每个节点预设了市场状态，影响投资回报：
*   `BULL` (牛市)：高收益预期。
*   `BEAR` (熊市)：高亏损风险。
*   `VOLATILE` (高波动)：极大方差。
*   `FLAT` (横盘)：低波动。

---

## 4. 关键剧情分支 (Narrative Paths)

### 4.1 开局配置 (Node 0-1)
*   **住房**：市区老破小（省时间、费钱） vs 远郊新房（省钱、耗精力）。
*   **保险**：裸奔 vs 商业险（生病时能否报销的关键）。

### 4.2 职场分歧 (Node 3, 5)
*   **站队危机**：实干派 vs 马屁精 vs 中立。影响技能积累或人脉。
*   **裁员潮 (Node 5)**：
    *   **高绩效**：跳槽涨薪。
    *   **低绩效**：被优化。
    *   **创业**：需要前置技能/人脉。
    *   **黑市对赌**：签署高利贷(`NAKED_LOAN`)，获得50万本金，开启地狱模式。

### 4.3 情感与婚姻 (Node 4, 9)
*   **情感博弈**：坚守现任 vs 暧昧白月光 vs 断情绝爱。
*   **终局审判 (Node 9)**：
    *   **彩礼谈判**：不仅是钱，更是心理博弈模拟。
    *   **豪门交易**：单身线专属，为了钱出卖婚姻自由。
    *   **回老家兜底**：降低胜利门槛的特殊路径。

### 4.4 家庭变故 (Node 6)
*   父亲重病：在“尽孝”与“保工作/公司”之间做残酷二选一。

### 4.5 终局抉择 (Node 10)
*   **梭哈**：最后一次加杠杆投资。
*   **犯罪**：绝境下当“车手”洗钱（高收益，极大风险）。
*   **润 (Run)**：资产转移出国。

---

## 5. 特色系统设计

### 5.1 强制干预机制 (Rescue System)
当玩家属性极低时，系统会强制接管游戏，强行扣除资源进行“回血”：
*   **至暗时刻**：现金断裂 -> 强制高息网贷或透支身体兼职。
*   **身体垮塌**：强制住院（扣巨款）。
*   **精神崩溃**：强制心理咨询或自我封闭。
*   **社会性死亡**：信誉破产，变卖资产或跑路。
*   **暴力催收**：高利贷专属，强制变卖所有资产或欺骗朋友。

### 5.2 互动模拟小游戏 (Simulations)
*   **资源分配 (Node 2, 8)**：分配假期时间（休息/社交/搞钱），影响属性。
*   **危机公关 (Node 5)**：通过滑块分配责任（甩锅/加班/躺平）。
*   **谈判博弈**：通过对话策略（强硬/理性/示弱）控制对方情绪值与施压值。
*   **彩礼模拟**：拖动滑块决定彩礼金额，结合父母支持度计算最终支出。

### 5.3 二周目继承 (Legacy System)
*   如果达成 **「阶级跃升 (ASCEND)」** 结局，存档记录 `csl_prev_tier = ASCEND`。
*   **下一局加成**：
    *   初始资金 +5000。
    *   激进投资收益区间上调（容易赚钱）。
    *   一旦下一局未达成跃升，加成失效（Roguelike 机制）。

---

## 6. 结局体系 (Endings)

根据最终净资产(Net Worth)、属性、标签判定等级：

1.  **Tier 0: VANISHED (人间蒸发)**
    *   条件：身负高利贷 (`DEBT_TRAP`) 且无力偿还。
    *   描述：被暴力催收带走，物理毁灭。

2.  **Tier 1: ASCEND (阶级跃升/天选之人)**
    *   条件：净资产 > 80万；或 离开一线城市且净资产 > 50万；或 有房且高现金高心理。
    *   描述：财富自由，或者成为资本的一员。

3.  **Tier 2: ESCAPE (幸存者)**
    *   条件：未达成跃升，但未死亡/破产。
    *   描述：带着伤痕离开，或在夹缝中平庸生存。

4.  **Tier 3: FOLD (被折叠/淘汰)**
    *   条件：任意两项核心属性(健康/心理/道德/财富)低于红线。
    *   描述：病死、穷死、疯了或身败名裂。

5.  **Special: CRIMINAL (绝命毒师)**
    *   条件：触发犯罪标签 (`CRIMINAL`)。
    *   描述：有钱但活在阴影里。

6.  **Special: ABROAD (流亡/世界公民)**
    *   条件：选择出国 (`WENT_ABROAD`)。

---

## 7. 成就系统
包含11个成就，记录玩家的特殊行为，如“买房”、“负债累累”、“道德楷模”、“黑暗森林法则”等。成就解锁后永久保存在本地。

---

## 8. 技术栈备注
*   **框架**: React 18+ (Hooks: useState, useEffect, useRef).
*   **UI**: TailwindCSS (暗黑风格, 响应式设计).
*   **图标**: Lucide-react.
*   **持久化**: localStorage (存档、成就、二周目状态).
*   **音频**: Web Audio API (程序化生成的环境白噪音/氛围音).